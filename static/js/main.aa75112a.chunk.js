(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{12:function(e,t,c){},13:function(e,t,c){},15:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),i=c(6),a=c.n(i),r=(c(12),c(2)),o=(c(13),c.p+"static/media/logo.75dcbe04.png"),l=c(0);function j(e){var t=e.setNominees;return Object(l.jsxs)("nav",{className:"navbar",children:[Object(l.jsxs)("div",{className:"navbar-brand",children:[Object(l.jsx)("img",{src:o,width:"40",height:"40",className:"d-inline-block align-top",alt:""}),Object(l.jsx)("b",{children:"The Shoppies"})]}),Object(l.jsx)("button",{className:"btn btn-md",onClick:function(){t([]),window.localStorage.removeItem("movies")},children:"Remove all Nominees"})]})}function b(e){var t=e.nominee,c=e.nominees,n=e.setNominees;return Object(l.jsx)("div",{className:"col-sm-12 col-lg-2",children:Object(l.jsxs)("section",{className:"card h-100 text-white text-center",children:[Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsx)("h5",{className:"card-title",children:t.Title}),Object(l.jsx)("p",{className:"card-text",children:t.Year})]}),Object(l.jsx)("img",{className:"card-img-bottom",src:t.Poster,alt:"".concat(t.Title,"'s poster")}),Object(l.jsx)("button",{className:"btn text-white",onClick:function(){var e=c.filter((function(e){return e.imdbID!==t.imdbID}));n(e),window.localStorage.setItem("movies",JSON.stringify(e))},children:"Remove it"})]})})}function m(e){var t=e.nominees,c=e.setNominees;return Object(n.useEffect)((function(){var e=window.localStorage.getItem("movies");(e=JSON.parse(e))&&c(e)}),[]),Object(l.jsx)(l.Fragment,{children:0===t.length?Object(l.jsx)("div",{className:"banner-title-section",children:Object(l.jsx)("section",{className:"banner-title",children:Object(l.jsx)("h1",{children:"Place your Nominees"})})}):Object(l.jsx)("div",{className:"banner row",children:t.map((function(e,n){return Object(l.jsx)(b,{nominee:e,setNominees:c,nominees:t},n+e.imdbID)}))})})}function d(e){var t=e.callAPI,c=Object(n.useState)(""),s=Object(r.a)(c,2),i=s[0],a=s[1];return Object(l.jsxs)("section",{className:"search-section",children:[Object(l.jsx)("div",{className:"search-title-section",children:Object(l.jsx)("h2",{children:"Choose 5 movies to Nominate!"})}),Object(l.jsxs)("form",{className:"search",onSubmit:function(e){e.preventDefault(),i&&t(i)},children:[Object(l.jsx)("input",{type:"text",className:"search-input",onChange:function(e){return a(e.target.value)},placeholder:"Search by title."}),Object(l.jsx)("button",{type:"submit",className:"btn-danger",children:Object(l.jsx)("i",{className:"fas fa-search"})})]})]})}var h=c(7);function u(e){var t=e.results,c=e.nominees,s=e.setNominees,i=e.error,a=Object(n.useState)({}),o=Object(r.a)(a,2),j=o[0],b=o[1];return Object(l.jsx)("section",{className:"results",children:Object(l.jsx)("ul",{className:"list-group",children:i?Object(l.jsx)("h3",{className:"text-light",children:i}):t.map((function(e,t){return Object(l.jsxs)("section",{className:"list-group-item flex-column",children:[Object(l.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[Object(l.jsx)("button",{onClick:function(){return function(e){try{fetch("http://www.omdbapi.com/?i=".concat(e,"&apikey=").concat("d4abbdb2")).then((function(e){return e.json()})).then((function(e){return b(e)}))}catch(t){console.error("We had a problem",t)}}(e.imdbID)},children:"+"}),Object(l.jsxs)("li",{children:[e.Title," - ",e.Year]}),Object(l.jsx)("button",{disabled:c.some((function(t){return t.imdbID===e.imdbID}))||c.length>=5,onClick:function(){return function(e){var t=[].concat(Object(h.a)(c),[e]);window.localStorage.setItem("movies",JSON.stringify(t)),s(t)}(e)},children:"Nominate"})]}),j.imdbID===e.imdbID&&Object(l.jsxs)("div",{className:"details",children:[Object(l.jsxs)("p",{className:"mb-2 mt-2",children:[Object(l.jsx)("b",{children:"Director:"})," ",j.Director]}),Object(l.jsx)("p",{className:"mb-2 mt-2",children:j.Plot})]})]},t+e.imdbID)}))})})}function O(){return Object(l.jsx)("footer",{className:"footer text-center text-lg-start",children:Object(l.jsxs)("div",{className:"text-center p-3",children:["2021 Shopify internship challenge",Object(l.jsx)("br",{}),Object(l.jsx)("small",{children:"\xa9 Rebeca Guedes"})]})})}var x=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],i=Object(n.useState)([]),a=Object(r.a)(i,2),o=a[0],b=a[1],h=Object(n.useState)(""),x=Object(r.a)(h,2),f=x[0],N=x[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)(j,{setNominees:b}),Object(l.jsx)(m,{setNominees:b,nominees:o}),Object(l.jsx)(d,{callAPI:function(e){N("");try{fetch("http://www.omdbapi.com/?s=".concat(e,"&apikey=").concat("d4abbdb2")).then((function(e){return e.json()})).then((function(e){"False"===e.Response?N(e.Error):s(e.Search)}))}catch(t){console.error("We had a problem",t)}}}),Object(l.jsx)(u,{results:c,setNominees:b,nominees:o,error:f}),Object(l.jsx)(O,{})]})};a.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(x,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.aa75112a.chunk.js.map